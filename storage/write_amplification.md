# SSD写放大
## 背景知识
### SSD组成
SSD闪存的基本构成有**page**（页面）、**block**（区块）、**plane**（平面）。

page是最基本的组成，一般大小为4KB或8KB，每个block通常包含64或128个page，而多个page又组成了plane，plane就是闪存中的一个核心die，多个（2-8个）die通过封装就成了闪存片，最后多个闪存片就构成了整个SSD。
> 整个结构可以简单描述为：
> page → block → plane - die → 闪存片 → SSD

针对数据的读写发生在page、block （以及band）上。

### 写于擦除
SSD与HD不同的是，HD在写数据时是直接**覆盖**原数据写，而SSD在没有新空间时只能在**擦除**原数据之后才能写新的数据。闪存的**擦除次数是有限制**的，如何减少SSD的写入问题是当前研究热点，诸如GC、等等

## 写放大
SSD在**写入数据时，以page为单位**的，而在写入新数据时需要擦除原有数据，但是**擦除的单位为block**，这样可能被擦除的block还有部分page保存着有效数据，因此需要把这部分数据搬移到右空位置的block中，如此一来，实际写入的数据量就比本来要写入的数据量要多了，这就产生了写放大的现象。

> 闪存写入的数据量 ÷ 主控写入的数据量 = 写入放大

